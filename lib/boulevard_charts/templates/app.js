!function(){"use strict";var t="undefined"==typeof window?global:window;if("function"!=typeof t.require){var e={},r={},a={},n={}.hasOwnProperty,i=/^\.\.?(\/|$)/,o=function(t,e){for(var r,a=[],n=(i.test(e)?t+"/"+e:e).split("/"),o=0,s=n.length;o<s;o++)r=n[o],".."===r?a.pop():"."!==r&&""!==r&&a.push(r);return a.join("/")},s=function(t){return t.split("/").slice(0,-1).join("/")},c=function(e){return function(r){var a=o(s(e),r);return t.require(a,e)}},u=function(t,e){var a=null;a=m&&m.createHot(t);var n={id:t,exports:{},hot:a};return r[t]=n,e(n.exports,c(t),n),n.exports},l=function(t){return a[t]?l(a[t]):t},d=function(t,e){return l(o(s(t),e))},p=function(t,a){null==a&&(a="/");var i=l(t);if(n.call(r,i))return r[i].exports;if(n.call(e,i))return u(i,e[i]);throw new Error("Cannot find module '"+t+"' from '"+a+"'")};p.alias=function(t,e){a[e]=t};var g=/\.[^.\/]+$/,h=/\/index(\.[^\/]+)?$/,f=function(t){if(g.test(t)){var e=t.replace(g,"");n.call(a,e)&&a[e].replace(g,"")!==e+"/index"||(a[e]=t)}if(h.test(t)){var r=t.replace(h,"");n.call(a,r)||(a[r]=t)}};p.register=p.define=function(t,a){if("object"==typeof t)for(var i in t)n.call(t,i)&&p.register(i,t[i]);else e[t]=a,delete r[t],f(t)},p.list=function(){var t=[];for(var r in e)n.call(e,r)&&t.push(r);return t};var m=t._hmr&&new t._hmr(d,p,e,r);p._cache=r,p.hmr=m&&m.wrap,p.brunch=!0,t.require=p}}(),function(){window;require.register("charts/column.js",function(t,e,r){"use strict";var a=e("../eventBus"),n=e("../formatters");r.exports=function(t,e){function r(t){var e=t.date,r=new Date(Date.parse(e)),a=i[r.getUTCMonth()],o=a+" "+r.getUTCDate();return"<span class='date'>"+o+"</span><br/><span> $"+n.formatMoney(t.total)+"</span>"}t.margin={top:50,right:20,bottom:25,left:20},t.width=parseInt(d3.select("#container").style("width"))-t.margin.right-t.margin.left,t.height=parseInt(d3.select("#container").style("height"))-t.margin.top-t.margin.bottom,e.attr("width",t.width+t.margin.left+t.margin.right).attr("height",t.height+t.margin.top+t.margin.bottom),e=e.append("g").attr("transform","translate("+t.margin.left+","+t.margin.top+")");var i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],o=d3.scale.ordinal().rangeRoundBands([0,t.width],.1),s=d3.scale.linear().range([t.height,0]),c=d3.svg.axis().scale(o).tickFormat(function(t){var e=new Date(Date.parse(t));if(0===e.getUTCDay()){var r=i[e.getUTCMonth()];return r+" "+e.getUTCDate()}}).orient("bottom"),u=d3.tip().attr("class","d3-tip").offset([-10,0]).html(r);return e.call(u),t.processData=function(r){o.domain(r.map(function(t){return t.date})),e.append("g").attr("class","x axis").attr("transform","translate(0,"+t.height+")").call(c).selectAll("text").attr("y",14).attr("x",0).attr("dy",".35em").style("text-anchor","middle"),d3.selectAll("g.x.axis g.tick line").attr("y2",function(t){var e=new Date(Date.parse(t));return 0===e.getUTCDay()?6:0}),s.domain([0,d3.max(r,function(t){return Number(t.total)})]);var n=e.append("defs"),i=n.append("linearGradient").attr("id","Gradient").attr("x1","0").attr("x2","0").attr("y1","0").attr("y2",t.height).attr("gradientUnits","userSpaceOnUse");i.append("stop").attr("offset","0%").attr("stop-color","#d44061"),i.append("stop").attr("offset","100%").attr("stop-color","#b538a8");var l=n.append("linearGradient").attr("id","HoverGradient").attr("x1","0").attr("x2","0").attr("y1","0").attr("y2",t.height).attr("gradientUnits","userSpaceOnUse");l.append("stop").attr("offset","0%").attr("stop-color","#d85574"),l.append("stop").attr("offset","100%").attr("stop-color","#bf4cb3"),e.selectAll(".bar").data(r).enter().append("rect").attr("class","bar").attr("x",function(t){return o(t.date)}).attr("width",o.rangeBand()).attr("y",function(t){return s(Number(t.total))}).attr("height",function(e){return t.height-s(Number(e.total))}).on("mouseover",u.show).on("mouseout",u.hide),a.emit({source:"blvd:charts",message:"ready"})},t}}),require.register("charts/pie.js",function(t,e,r){"use strict";var a=e("../eventBus"),n=e("../formatters");r.exports=function(t,e){t.margin={top:0,right:0,bottom:0,left:0},t.width=parseInt(d3.select("#container").style("width"))-t.margin.right-t.margin.left,t.height=parseInt(d3.select("#container").style("height"))-t.margin.top-t.margin.bottom,e.attr("width",t.width+t.margin.left+t.margin.right).attr("height",t.height+t.margin.top+t.margin.bottom),e=e.append("g").attr("transform","translate("+t.width/2+","+t.height/2+")"),e.append("g").attr("class","slices"),e.append("g").attr("class","labelName"),e.append("g").attr("class","labelValue"),e.append("g").attr("class","lines");var r=Math.min(t.width,t.height)/2,i=(t.width,t.height,d3.layout.pie().sort(null).value(function(t){return t.grossServiceRevenue})),o=d3.svg.arc().outerRadius(.8*r).innerRadius(.4*r),s=d3.svg.arc().innerRadius(.9*r).outerRadius(.9*r),c=d3.select("body").append("div").attr("class","toolTip"),u=d3.scale.category20(),l=d3.scale.ordinal().range(u.range());return t.processData=function(t){function u(t){for(var e,r={},a=0,n=0;n<t.length;n++)e=t[n],a+=e.grossServiceRevenue,r[e.categoryName]=(r[e.categoryName]||0)+e.grossServiceRevenue;var i=[];return Object.keys(r).forEach(function(t){var e=Math.round(1e3*r[t]/a)/10;i.push({categoryName:t,grossServiceRevenue:r[t],percentage:e})}),i}function d(t){return t.startAngle+(t.endAngle-t.startAngle)/2}t=u(t);var p=e.select(".slices").selectAll("path.slice").data(i(t),function(t){return t.data.categoryName});p.enter().insert("path").style("fill",function(t){return l(t.data.categoryName)}).attr("class","slice"),p.transition().duration(1e3).attrTween("d",function(t){this._current=this._current||t;var e=d3.interpolate(this._current,t);return this._current=e(0),function(t){return o(e(t))}}),p.on("mousemove",function(t){c.style("left",d3.event.pageX+10+"px"),c.style("top",d3.event.pageY-25+"px"),c.style("display","inline-block"),c.html(t.data.categoryName+"<br> $"+n.formatMoney(t.data.grossServiceRevenue))}),p.on("mouseout",function(t){c.style("display","none")}),p.exit().remove();var g=e.select(".labelName").selectAll("text").data(i(t),function(t){return t.data.categoryName});g.enter().append("text").attr("dy",".35em").text(function(t){return t.data.categoryName+": "+t.data.percentage+"%"}),g.transition().duration(1e3).attrTween("transform",function(t){this._current=this._current||t;var e=d3.interpolate(this._current,t);return this._current=e(0),function(t){var a=e(t),n=s.centroid(a);return n[0]=r*(d(a)<Math.PI?1:-1),"translate("+n+")"}}).styleTween("text-anchor",function(t){this._current=this._current||t;var e=d3.interpolate(this._current,t);return this._current=e(0),function(t){var r=e(t);return d(r)<Math.PI?"start":"end"}}).text(function(t){return t.data.categoryName+": "+t.data.percentage+"%"}),g.exit().remove();var h=e.select(".lines").selectAll("polyline").data(i(t),function(t){return t.data.categoryName});h.enter().append("polyline"),h.transition().duration(1e3).attrTween("points",function(t){this._current=this._current||t;var e=d3.interpolate(this._current,t);return this._current=e(0),function(t){var a=e(t),n=s.centroid(a);return n[0]=.95*r*(d(a)<Math.PI?1:-1),[o.centroid(a),s.centroid(a),n]}}),h.exit().remove(),a.emit({source:"blvd:charts",message:"ready"})},t}}),require.register("eventBus.js",function(t,e,r){"use strict";function a(t){i?i.postMessage(t):o.push(t)}function n(t){if("port:init"===t.data)for(i=t.ports[0];i&&o.length;)sendMessage(o.pop())}var i,o=[];window.addEventListener("message",n,!1),r.exports={emit:a}}),require.register("formatters.js",function(t,e,r){"use strict";function a(t){var e=2,r=".",a=",",n=t<0?"-":"",i=parseInt(t=Math.abs(+t||0).toFixed(e))+"",o=(o=i.length)>3?o%3:0;return n+(o?i.substr(0,o)+a:"")+i.substr(o).replace(/(\d{3})(?=\d)/g,"$1"+a)+(e?r+Math.abs(t-i).toFixed(e).slice(2):"")}r.exports={formatMoney:a}}),require.register("initialize.js",function(t,e,r){"use strict";function a(t){function e(e,r){if(e)throw e;n||(n=r,c.emit({source:"blvd:charts",message:"data",data:r.data})),"donut"===r.chart_type?o(i,t):s(i,t),i.processData(r.data)}i||(i={}),n?e(null,n):d3.json("chart-data.json"+window.location.search,e)}var n,i,o=e("./charts/pie"),s=e("./charts/column"),c=e("./eventBus"),u=d3.select("#container");a(u),d3.select(window).on("resize",function(){u.selectAll("g").remove(),a(u)})}),require.register("___globals___",function(t,e,r){})}(),require("___globals___");